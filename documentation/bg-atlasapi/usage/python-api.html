

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Python API &#8212; BrainGlobe</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../../_static/css/custom.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/sphinx_highlight.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../../_static/togglebutton.js"></script>
    <script src="../../../_static/design-tabs.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'documentation/bg-atlasapi/usage/python-api';</script>
    <link rel="canonical" href="https://brainglobe.info/documentation/bg-atlasapi/usage/python-api.html" />
    <link rel="shortcut icon" href="../../../_static/brainglobe.png"/>
    <link rel="author" title="About these documents" href="../../../about.html" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Command line interface" href="command-line-interface.html" />
    <link rel="prev" title="Atlas details" href="atlas-details.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  <div class="navbar-header-items__start">
    
      <div class="navbar-item">
  

<a class="navbar-brand logo" href="../../../index.html">
  
  
  
  
    
    
      
    
    
    <img src="../../../_static/brainglobe.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="../../../_static/brainglobe.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
    <p class="title logo__title">BrainGlobe</p>
  
</a></div>
    
  </div>
  
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../../about.html">
                        About
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../../contact.html">
                        Contact
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../../tutorials/index.html">
                        Tutorials
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="../../index.html">
                        Documentation
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../../publications.html">
                        Publications
                      </a>
                    </li>
                
            <div class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                </button>
                <div class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../../media.html">
                        Media
                      </a>
                    </li>
                

                <li class="nav-item">
                  <a class="nav-link nav-external" href="https://forum.image.sc/tag/brainglobe">
                    Help forum
                  </a>
                </li>
                

                <li class="nav-item">
                  <a class="nav-link nav-external" href="https://github.com/brainglobe/.github/blob/main/CONTRIBUTING.md">
                    Contributing guide
                  </a>
                </li>
                

                <li class="nav-item">
                  <a class="nav-link nav-external" href="https://docs.brainglobe.info">
                    Old documentation
                  </a>
                </li>
                
                </div>
            </div>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
        </div>
      
      
        <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/brainglobe" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/brain_globe" title="Twitter" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-twitter"></i></span>
            <label class="sr-only">Twitter</label></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../../about.html">
                        About
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../../contact.html">
                        Contact
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../../tutorials/index.html">
                        Tutorials
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="../../index.html">
                        Documentation
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../../publications.html">
                        Publications
                      </a>
                    </li>
                
            <div class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                </button>
                <div class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../../media.html">
                        Media
                      </a>
                    </li>
                

                <li class="nav-item">
                  <a class="nav-link nav-external" href="https://forum.image.sc/tag/brainglobe">
                    Help forum
                  </a>
                </li>
                

                <li class="nav-item">
                  <a class="nav-link nav-external" href="https://github.com/brainglobe/.github/blob/main/CONTRIBUTING.md">
                    Contributing guide
                  </a>
                </li>
                

                <li class="nav-item">
                  <a class="nav-link nav-external" href="https://docs.brainglobe.info">
                    Old documentation
                  </a>
                </li>
                
                </div>
            </div>
            
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/brainglobe" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/brain_globe" title="Twitter" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-twitter"></i></span>
            <label class="sr-only">Twitter</label></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item"><nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../general/index.html">General BrainGlobe documentation</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../general/conda.html">Using conda</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../general/gpu.html">Setting up your GPU</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../general/image-definition.html">Image definition</a></li>
</ul>
</li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../index.html">bg-atlasapi</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="atlas-details.html">Atlas details</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Python API</a></li>
<li class="toctree-l2"><a class="reference internal" href="command-line-interface.html">Command line interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="using-the-files-directly.html">Using the files directly</a></li>
<li class="toctree-l2"><a class="reference internal" href="../adding-a-new-atlas.html">Adding a new atlas</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../bg-space/index.html">bg-space</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../brainreg/index.html">brainreg</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../brainreg/installation.html">Requirements</a></li>

<li class="toctree-l2"><a class="reference internal" href="../../brainreg/user-guide/brainreg-napari.html">Napari plugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../brainreg/user-guide/brainreg-cli.html">Command line tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../brainreg/user-guide/parameters.html">Registration parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../brainreg/user-guide/checking-orientation.html">Checking orientation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../brainreg/user-guide/output-files.html">Output files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../brainreg/user-guide/visualisation.html">Visualising brainreg output</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../brainreg-segment/index.html">brainreg-segment</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../brainreg-segment/user-guide/index.html">Prerequisites</a></li>

<li class="toctree-l2"><a class="reference internal" href="../../brainreg-segment/user-guide/segmenting-1d-tracks.html">Segmenting 1D tracks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../brainreg-segment/user-guide/segmenting-3d-structures.html">Segmenting 2/3D structures</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../brainrender/index.html">brainrender</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../cellfinder/index.html">cellfinder</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../cellfinder/installation.html">Requirements</a></li>

<li class="toctree-l2"><a class="reference internal" href="../../cellfinder/user-guide/parameters.html">cellfinder parameters</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../cellfinder/troubleshooting/index.html">Troubleshooting</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-6"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../cellfinder/troubleshooting/speed-up.html">Speeding up cellfinder</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../cellfinder/troubleshooting/error-messages.html">Debugging common error messages</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../tutorials/cellfinder.html">Whole brain cell detection and registration</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../morphapi/index.html">morphapi</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-7"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../morphapi/usage/downloading-data.html">Downloading data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../morphapi/usage/rendering-data.html">Rendering data</a></li>
</ul>
</li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumbs">
  <ul class="bd-breadcrumbs" role="navigation" aria-label="Breadcrumb">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../../index.html" class="nav-link">Documentation</a></li>
    
    
    <li class="breadcrumb-item"><a href="../index.html" class="nav-link">bg-atlasapi</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">Python API</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="python-api">
<h1>Python API<a class="headerlink" href="#python-api" title="Permalink to this heading">#</a></h1>
<section id="creating-a-brainglobeatlas-object-and-list-available-options">
<h2>0. Creating a <code class="docutils literal notranslate"><span class="pre">BrainGlobeAtlas</span></code> object and list available options<a class="headerlink" href="#creating-a-brainglobeatlas-object-and-list-available-options" title="Permalink to this heading">#</a></h2>
<p>To instantiate a <code class="docutils literal notranslate"><span class="pre">BrainGlobeAtlas</span></code> object, we need to instantiate it with the atlas name. The first time we use it, a
version of this atlas files will be downloaded from the <a class="reference external" href="http://gin.g-node.org/brainglobe/atlases">remote GIN repository</a>
and stored on your local machine (by default, in â€¦/Users/username/.brainglobe):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bg_atlasapi</span> <span class="kn">import</span> <span class="n">BrainGlobeAtlas</span>
<span class="kn">from</span> <span class="nn">pprint</span> <span class="kn">import</span> <span class="n">pprint</span>

<span class="n">bg_atlas</span> <span class="o">=</span> <span class="n">BrainGlobeAtlas</span><span class="p">(</span><span class="s2">&quot;allen_mouse_100um&quot;</span><span class="p">,</span> <span class="n">check_latest</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p>To know what atlases are available through BrainGlobe, we can use the <code class="docutils literal notranslate"><span class="pre">show_atlases</span></code> function (we need to be online):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bg_atlasapi</span> <span class="kn">import</span> <span class="n">show_atlases</span>
<span class="n">show_atlases</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="using-a-brainglobe-atlas">
<h2>1. Using a <code class="docutils literal notranslate"><span class="pre">BrainGlobe</span></code> atlas<a class="headerlink" href="#using-a-brainglobe-atlas" title="Permalink to this heading">#</a></h2>
<p>A BrainGlobe atlas is a convenient API for interacting with an anatomical atlas. BrainGlobe atlases contain:</p>
<ul class="simple">
<li><p>Metadata</p></li>
<li><p>Reference anatomical stack</p></li>
<li><p>Region annotation stack</p></li>
<li><p>Hemisphere annotation stack</p></li>
<li><p>Description of the region hierarchy</p></li>
<li><p>Meshes for the regions</p></li>
</ul>
<section id="metadata">
<h3>1.0 Metadata<a class="headerlink" href="#metadata" title="Permalink to this heading">#</a></h3>
<p>All atlases have a standard set of metatata describing their source, species, resolution, etc:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">bg_atlas</span><span class="o">.</span><span class="n">metadata</span>
</pre></div>
</div>
</section>
<section id="anatomical-annotation-and-hemispheres-stack">
<h3>1.1 Anatomical, annotation and hemispheres stack<a class="headerlink" href="#anatomical-annotation-and-hemispheres-stack" title="Permalink to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>
</pre></div>
</div>
<p>Anatomical reference:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">stack</span> <span class="o">=</span> <span class="n">bg_atlas</span><span class="o">.</span><span class="n">reference</span>
</pre></div>
</div>
<p>Annotations stack:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">stack</span> <span class="o">=</span> <span class="n">bg_atlas</span><span class="o">.</span><span class="n">annotation</span>
</pre></div>
</div>
<p>Hemisheres stack:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">stack</span> <span class="o">=</span> <span class="n">bg_atlas</span><span class="o">.</span><span class="n">hemispheres</span>
</pre></div>
</div>
</section>
<section id="regions-hierarchy">
<h3>1.2 Regions hierarchy<a class="headerlink" href="#regions-hierarchy" title="Permalink to this heading">#</a></h3>
<p>The atlas comes with the description of a hierarchy of brain structures. To have an overview:</p>
<p>bg_atlas.structures</p>
<p>The structures attribute is a custom dictionary that can be queried by region number or acronym, and contains all the information for a given structure:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">bg_atlas</span><span class="o">.</span><span class="n">structures</span><span class="p">[</span><span class="s2">&quot;root&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>In particular, the <code class="docutils literal notranslate"><span class="pre">structure_id_path</span></code> key contains a list description of the path in the hierarchy up to a particular region, and can be used for queries on the hierarchy.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">bg_atlas</span><span class="o">.</span><span class="n">structures</span><span class="p">[</span><span class="s2">&quot;CH&quot;</span><span class="p">][</span><span class="s2">&quot;structure_id_path&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>We can use the <code class="docutils literal notranslate"><span class="pre">bg_atlas.get_structure_descendants</span></code> and <code class="docutils literal notranslate"><span class="pre">bg_atlas.get_structure_ancestors</span></code> methods to explore the hierarchy:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">bg_atlas</span><span class="o">.</span><span class="n">get_structure_descendants</span><span class="p">(</span><span class="s2">&quot;VISC&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">bg_atlas</span><span class="o">.</span><span class="n">get_structure_ancestors</span><span class="p">(</span><span class="s2">&quot;VISC6a&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>NOTE</strong>: the levels of the hierarchy depend on the underlying atlas, so we cannot ensure the goodness and consistency of their hierarchy three.</p>
<p>There is a higher level description of the structures hierarchy that is built using the
<a class="reference external" href="https://treelib.readthedocs.io/en/latest/">treelib</a> package, and is available as:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">bg_atlas</span><span class="o">.</span><span class="n">structures</span><span class="o">.</span><span class="n">tree</span>
</pre></div>
</div>
<p>For most applications, though, the methods described above and the list path of each region should be enough to query
the hierarchy without additional layers of complication.</p>
</section>
<section id="region-masks">
<h3>1.3 Region masks<a class="headerlink" href="#region-masks" title="Permalink to this heading">#</a></h3>
<p>Sometimes, we might want to have the mask for a region that is not labelled in the annotation stack as all its voxels
have the number of some lower level parcellation in the hierarchy (concretely, if the brain is divided in hindbrain,
midbrain, and forebrain, <code class="docutils literal notranslate"><span class="pre">annotation</span> <span class="pre">==</span> <span class="pre">root_id</span></code> will be all False).</p>
<p>To get the mask for a region, simply type:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">stack</span> <span class="o">=</span> <span class="n">bg_atlas</span><span class="o">.</span><span class="n">get_structure_mask</span><span class="p">(</span><span class="mi">997</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="regions-meshes">
<h3>1.3 Regions meshes<a class="headerlink" href="#regions-meshes" title="Permalink to this heading">#</a></h3>
<p>If we need to access the structure meshes, we can either query for the file (e.g., if we need to load the file
through some library like <code class="docutils literal notranslate"><span class="pre">vedo</span></code>):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">bg_atlas</span><span class="o">.</span><span class="n">meshfile_from_structure</span><span class="p">(</span><span class="s2">&quot;CH&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Or directly obtain the mesh, as a mesh object of the <code class="docutils literal notranslate"><span class="pre">meshio</span></code> library:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">bg_atlas</span><span class="o">.</span><span class="n">mesh_from_structure</span><span class="p">(</span><span class="s2">&quot;CH&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="query-the-brainglobeatlas">
<h2>2 Query the <code class="docutils literal notranslate"><span class="pre">BrainGlobeAtlas</span></code><a class="headerlink" href="#query-the-brainglobeatlas" title="Permalink to this heading">#</a></h2>
<section id="query-for-structures">
<h3>2.0 Query for structures<a class="headerlink" href="#query-for-structures" title="Permalink to this heading">#</a></h3>
<p>A very convenient feature of the <code class="docutils literal notranslate"><span class="pre">BrainGlobeAtlas</span></code> API is the simplicity of querying for the identity of the
structure or the hemisphere at a given location, either from stack indexes or space coordinates, and even cutting
the hierarchy at some higher level:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Ask for identity of some indexes in the stack:</span>
<span class="n">bg_atlas</span><span class="o">.</span><span class="n">structure_from_coords</span><span class="p">((</span><span class="mi">50</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">30</span><span class="p">),</span> <span class="n">as_acronym</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Now give coordinates in microns:</span>
<span class="n">bg_atlas</span><span class="o">.</span><span class="n">structure_from_coords</span><span class="p">((</span><span class="mi">5000</span><span class="p">,</span> <span class="mi">4000</span><span class="p">,</span> <span class="mi">3000</span><span class="p">),</span> <span class="n">as_acronym</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> 
                               <span class="n">microns</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Now cut hierarchy at some level:</span>
<span class="n">bg_atlas</span><span class="o">.</span><span class="n">structure_from_coords</span><span class="p">((</span><span class="mi">5000</span><span class="p">,</span> <span class="mi">4000</span><span class="p">,</span> <span class="mi">3000</span><span class="p">),</span> <span class="n">as_acronym</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                               <span class="n">microns</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>  <span class="n">hierarchy_lev</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="query-for-hemispheres">
<h3>2.1 Query for hemispheres<a class="headerlink" href="#query-for-hemispheres" title="Permalink to this heading">#</a></h3>
<p>A very similar method can be used for hemispheres. 0 correspond to outside the brain, and 1 and 2 to left and right
hemispheres, but we can just ask for the side name instead of the number:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Ask for identity of some indexes in the stack:</span>
<span class="n">bg_atlas</span><span class="o">.</span><span class="n">hemisphere_from_coords</span><span class="p">((</span><span class="mi">50</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">30</span><span class="p">))</span>

<span class="c1"># Now give coordinates in microns</span>
<span class="n">bg_atlas</span><span class="o">.</span><span class="n">hemisphere_from_coords</span><span class="p">((</span><span class="mi">5000</span><span class="p">,</span> <span class="mi">4000</span><span class="p">,</span> <span class="mi">3000</span><span class="p">),</span> <span class="n">microns</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Now print side string</span>
<span class="n">bg_atlas</span><span class="o">.</span><span class="n">hemisphere_from_coords</span><span class="p">((</span><span class="mi">5000</span><span class="p">,</span> <span class="mi">4000</span><span class="p">,</span> <span class="mi">3000</span><span class="p">),</span> <span class="n">microns</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
</section>


                </article>
              
              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="atlas-details.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Atlas details</p>
      </div>
    </a>
    <a class="right-next"
       href="command-line-interface.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Command line interface</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-a-brainglobeatlas-object-and-list-available-options">0. Creating a <code class="docutils literal notranslate"><span class="pre">BrainGlobeAtlas</span></code> object and list available options</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#using-a-brainglobe-atlas">1. Using a <code class="docutils literal notranslate"><span class="pre">BrainGlobe</span></code> atlas</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#metadata">1.0 Metadata</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#anatomical-annotation-and-hemispheres-stack">1.1 Anatomical, annotation and hemispheres stack</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#regions-hierarchy">1.2 Regions hierarchy</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#region-masks">1.3 Region masks</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#regions-meshes">1.3 Regions meshes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#query-the-brainglobeatlas">2 Query the <code class="docutils literal notranslate"><span class="pre">BrainGlobeAtlas</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#query-for-structures">2.0 Query for structures</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#query-for-hemispheres">2.1 Query for hemispheres</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item"><p class="sphinx-version">
Created using <a href="https://sphinx-doc.org/">Sphinx</a> 5.3.0.
<br/>
</p>
<p class="theme-version">
Built with the
<a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a>
0.13.3.
</p></div>
      
    </div>
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><div class="things-in-a-row">
    Add sponsors??
</div></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>